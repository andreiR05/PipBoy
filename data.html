<!DOCTYPE html>
<html>
    <head>
        <title>Pip-boy</title>               <!--Title on the tab-->
        <link rel="stylesheet" href="../css/bootstrap-grid.min.css">
        <link rel="stylesheet" href="../css/bootstrap.css">
        <link rel="stylesheet" href="../css/pipboy.app.css">
        <script src="https://code.jquery.com/jquery.js" ></script>
        <script src="../js/bootstrap.js"></script>
        <script src="../js/pipboy.app.js"></script>
        <meta name="viewport" content="width=device-width ,initial-scale=1" />

    </head>
    <body>
        <!--NAVIGATION BAR-->
        <nav class="navbar navbar-expand-lg navbar-light">                  <!--NAVBAR classes-->
            <div class="container-fluid" id="mainNav" >              <!--DIV classes-->
                <ul class="navbar-nav mr-auto">
                    <li id="navi"  class="nav-item">  
                        <a class="nav-link" href="pipboy.html">STAT</a>                  <!--STAT link-->
                    </li>
                    <li id="navi" class="nav-item">
                        <a class="nav-link" href="inv.html">INV</a>                       <!--INVENTORY link-->
                    </li>
                    <li id="navi"  class="nav-item navi3" >
                        <a class="nav-link" href="data.html">DATA</a>                       <!--DATA link-->
                    </li>
                    <li id="navi"  class="nav-item" >
                        <a class="nav-link" href="map.html">MAP</a>                       <!--MAP link-->
                    </li>
                    <li id="navi"  class="nav-item" >
                        <a class="nav-link" href="radio.html">RADIO</a>                       <!--RADIO link-->
                    </li>
                </ul>
            </div>
        </nav>
        <!--NAVIGATION BAR-->

        <!--SECONDARY NAVIGATION BAR-->
                <div class="container">
                    <div class="row">
                        <div class="col-12">


                    <ul class="nav nav-tabs" >
                        <li id="navi" class="nav-item" >
                            <a class="nav-link" href="#quests" data-toggle="tab">QUESTS</a>    <!--WEAPON sublink-->
                        </li>
                        <li id="navi" class="nav-item">
                            <a class="nav-link" href="#workshop" data-toggle="tab" >WORKSHOPS</a>  <!--ARMOR sublink-->
                        </li>
                        <li id="navi" class="nav-item special" >
                            <a  class="nav-link" href="#stats" data-toggle="tab">STATS</a>  <!--AID sublink-->
                        </li>
                    </ul>
        <!--SECONDARY NAVIGATION BAR-->
        
           

        <div class="tab-content">
            <div class="tab-pane full active" id="quests" role="tabpanel">
                <ul class="item-list">
                    <li><a class="Taking point" href="#">Taking point:Sunshine Tidings Co-op</a></li>
                    <li><a class="Old" href="#">Old guns</a></li>
                    <li><a class="assault_riffle" href="#">Cleansing the Commonwealth</a>
                            <ul><a class="assault_riffle" href="#">Quartermastery</a></ul>
                            <ul><a class="assault_riffle" href="#">Getting a Clue</a></ul>
                            <ul><a class="assault_riffle" href="#">Curtain Hall</ul>
                    </li>
                    <li><a class="assault_riffle" href="#">The Silver Shroud</a>
                    <li><a class="assault_riffle" href="#">Road to freedom</a>
                     <li><a class="assault_riffle" href="#">Story of the Century</a>


                </ul></div>
                <div class="tab-pane full active" id="workshop" role="tabpanel">
                    <ul class="item-list">
                        <li><a  href="#">County Crossing ⚠</a></li>
                        <li><a  href="#">Greentop Nursey⚠</a></li>
                        <li><a  href="#"> Red Rocket⚠</a></li>
                        <li><a  href="#">Sanctuary Hills⚠</a></li>
                        <li><a  href="#">Starligh Drive-in⚠</a></li>
    
                         </ul>
                         <div class="item-stats">
                            <div class="row-highlight">
                                <div class="row">
                                <span  class="col-6"  > &#128115;People</span>
                                
                                <div class="col-6 damage">3</div>
                                </div>
        
                                <div class="row-highlight">
                                    <div class="row">
                                    <div  class="col-6">&#127839;Food</div>
                                    <div class="col-6 ammo">10</div>
                                    </div>
                                </div>
        
                                <div class="row-highlight">
                                    <div class="row">
                                    <div  class="col-6">&#127866;Water</div>
                                    <div class="col-6 fire-rate">3</div>
                                    </div>
        
                                    <div class="row-highlight">
                                        <div class="row">
                                        <div  class="col-6">&#128013;Power</div>
                                        <div class="col-6 range">0</div>⚠
                                        </div>
                                    </div>
        
                                    <div class="row-highlight">
                                        <div class="row">
                                        <div  class="col-6">&#129355;Defense</div>
                                        <div class="col-6 accuracy">0</div>⚠
                                        </div>
                                    </div>
        
                                    <div class="row-highlight">
                                        <div class="row">
                                        <div  class="col-6">&#128716;Beds</div>
                                        <div class="col-6 weight">4</div>
                                        </div>
                                    </div>
                                    <div class="row-highlight">
                                        <div class="row">
                                        <div  class="col-6">&#129321;Happiness</div>
                                        <div class="col-6 weight">100</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div></div>
                        <div class="tab-pane full active" id="stats" role="tabpanel">
                            <canvas id="stage" height="400" width="520"></canvas>
                            <script>
                            /**
                            * Namespace
                            */
                           var Game      = Game      || {};
                           var Keyboard  = Keyboard  || {}; 
                           var Component = Component || {};
                           
                           /**
                            * Keyboard Map
                            */
                           Keyboard.Keymap = {
                             37: 'left',
                             38: 'up',
                             39: 'right',
                             40: 'down'
                           };
                           
                           /**
                            * Keyboard Events
                            */
                           Keyboard.ControllerEvents = function() {
                             
                             // Setts
                             var self      = this;
                             this.pressKey = null;
                             this.keymap   = Keyboard.Keymap;
                             
                             // Keydown Event
                             document.onkeydown = function(event) {
                               self.pressKey = event.which;
                             };
                             
                             // Get Key
                             this.getKey = function() {
                               return this.keymap[this.pressKey];
                             };
                           };
                           
                           /**
                            * Game Component Stage
                            */
                           Component.Stage = function(canvas, conf) {  
                             
                             // Sets
                             this.keyEvent  = new Keyboard.ControllerEvents();
                             this.width     = canvas.width;
                             this.height    = canvas.height;
                             this.length    = [];
                             this.food      = {};
                             this.score     = 0;
                             this.direction = 'right';
                             this.conf      = {
                               cw   : 10,
                               size : 5,
                               fps  : 1000
                             };
                             
                             // Merge Conf
                             if (typeof conf == 'object') {
                               for (var key in conf) {
                                 if (conf.hasOwnProperty(key)) {
                                   this.conf[key] = conf[key];
                                 }
                               }
                             }
                             
                           };
                           
                           /**
                            * Game Component Snake
                            */
                           Component.Snake = function(canvas, conf) {
                             
                             // Game Stage
                             this.stage = new Component.Stage(canvas, conf);
                             
                             // Init Snake
                             this.initSnake = function() {
                               
                               // Itaration in Snake Conf Size
                               for (var i = 0; i < this.stage.conf.size; i++) {
                                 
                                 // Add Snake Cells
                                 this.stage.length.push({x: i, y:0});
                               }
                             };
                             
                             // Call init Snake
                             this.initSnake();
                             
                             // Init Food  
                             this.initFood = function() {
                               
                               // Add food on stage
                               this.stage.food = {
                                 x: Math.round(Math.random() * (this.stage.width - this.stage.conf.cw) / this.stage.conf.cw), 
                                 y: Math.round(Math.random() * (this.stage.height - this.stage.conf.cw) / this.stage.conf.cw), 
                               };
                             };
                             
                             // Init Food
                             this.initFood();
                             
                             // Restart Stage
                             this.restart = function() {
                               this.stage.length            = [];
                               this.stage.food              = {};
                               this.stage.score             = 0;
                               this.stage.direction         = 'right';
                               this.stage.keyEvent.pressKey = null;
                               this.initSnake();
                               this.initFood();
                             };
                           };
                           
                           /**
                            * Game Draw
                            */
                           Game.Draw = function(context, snake) {
                             
                             // Draw Stage
                             this.drawStage = function() {
                               
                               // Check Keypress And Set Stage direction
                               var keyPress = snake.stage.keyEvent.getKey(); 
                               if (typeof(keyPress) != 'undefined') {
                                 snake.stage.direction = keyPress;
                               }
                               
                               // Draw White Stage
                               context.fillStyle = "white";
                               context.fillRect(0, 0, snake.stage.width, snake.stage.height);
                               
                               // Snake Position
                               var nx = snake.stage.length[0].x;
                               var ny = snake.stage.length[0].y;
                               
                               // Add position by stage direction
                               switch (snake.stage.direction) {
                                 case 'right':
                                   nx++;
                                   break;
                                 case 'left':
                                   nx--;
                                   break;
                                 case 'up':
                                   ny--;
                                   break;
                                 case 'down':
                                   ny++;
                                   break;
                               }
                               
                               // Check Collision
                               if (this.collision(nx, ny) == true) {
                                 snake.restart();
                                 return;
                               }
                               
                               // Logic of Snake food
                               if (nx == snake.stage.food.x && ny == snake.stage.food.y) {
                                 var tail = {x: nx, y: ny};
                                 snake.stage.score++;
                                 snake.initFood();
                               } else {
                                 var tail = snake.stage.length.pop();
                                 tail.x   = nx;
                                 tail.y   = ny;  
                               }
                               snake.stage.length.unshift(tail);
                               
                               // Draw Snake
                               for (var i = 0; i < snake.stage.length.length; i++) {
                                 var cell = snake.stage.length[i];
                                 this.drawCell(cell.x, cell.y);
                               }
                               
                               // Draw Food
                               this.drawCell(snake.stage.food.x, snake.stage.food.y);
                               
                               // Draw Score
                               context.fillText('Score: ' + snake.stage.score, 5, (snake.stage.height - 5));
                             };
                             
                             // Draw Cell
                             this.drawCell = function(x, y) {
                               context.fillStyle = 'rgb(170, 170, 170)';
                               context.beginPath();
                               context.arc((x * snake.stage.conf.cw + 6), (y * snake.stage.conf.cw + 6), 4, 0, 2*Math.PI, false);    
                               context.fill();
                             };
                             
                             // Check Collision with walls
                             this.collision = function(nx, ny) {  
                               if (nx == -1 || nx == (snake.stage.width / snake.stage.conf.cw) || ny == -1 || ny == (snake.stage.height / snake.stage.conf.cw)) {
                                 return true;
                               }
                               return false;    
                             }
                           };
                           
                           
                           /**
                            * Game Snake
                            */
                           Game.Snake = function(elementId, conf) {
                             
                             // Sets
                             var canvas   = document.getElementById(elementId);
                             var context  = canvas.getContext("2d");
                             var snake    = new Component.Snake(canvas, conf);
                             var gameDraw = new Game.Draw(context, snake);
                             
                             // Game Interval
                             setInterval(function() {gameDraw.drawStage();}, snake.stage.conf.fps);
                           };
                           
                           
                           /**
                            * Window Load
                            */
                           window.onload = function() {
                             var snake = new Game.Snake('stage', {fps: 100, size: 4});
                           };
                
                        </script>
            </div>
      
        <!--FOOTER-->
        <nav class="navbar-expand-lg navbar-light pip-footer ">
            <div class="row">
                <div id="footer" class="col-3 "><span id="date"></span>          
                <script>
                    n =  new Date();
                    y = n.getFullYear();
                    m = n.getMonth() + 1;
                    d = n.getDate();
                    document.getElementById("date").innerHTML = m + "/" + d + "/" + y;
                   </script></div>
                <!--HP info-->
                <div id="footer" class="col-6">  <span id="date-time"></span> 
                    <script>
                        var dt = new Date();
                        document.getElementById('date-time').innerHTML=dt;
                        </script> </div>       <!--LVL PROGRESS bar-->
                <div id="footer" class="col-3 text-right">   </div>
            </div>
        </nav>
    </body>
</html>               